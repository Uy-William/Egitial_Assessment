{"ast":null,"code":"import _asyncToGenerator from\"D:/Will/Egitial_Assessment/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Will/Egitial_Assessment/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"D:/Will/Egitial_Assessment/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import _regeneratorRuntime from\"D:\\\\Will\\\\Egitial_Assessment\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useContext}from\"react\";import{useMutation}from\"@apollo/react-hooks\";import gql from\"graphql-tag\";import{useNavigate}from'react-router-dom';import{TextField,Button,Grid,Dialog,DialogTitle,DialogActions,DialogContent,DialogContentText}from\"@mui/material\";import AuthContext from\"../auth/AuthProvider\";import\"./signup.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SIGNUP_USER=gql(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  mutation signup($email: String!) {\\n    signUp(email: $email) {\\n      id\\n      email\\n    }\\n  }\\n\"])));function SignUp(_ref){var user=_ref.user;var navigate=useNavigate();var _useContext=useContext(AuthContext),setAuth=_useContext.setAuth;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),showForm=_useState2[0],setshowForm=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),useEmail=_useState4[0],setEmail=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),userData=_useState6[0],setUserData=_useState6[1];var _useMutation=useMutation(SIGNUP_USER,{update:function update(proxy,result){setUserData(result.data.signUp.id);},variables:{email:useEmail}}),_useMutation2=_slicedToArray(_useMutation,2),addUser=_useMutation2[0],loading=_useMutation2[1].loading;var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();addUser();setshowForm(false);case 3:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();var enterQuestion=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:navigate('/question',{state:{userid:userData}});case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function enterQuestion(_x2){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:showForm?/*#__PURE__*/_jsx(\"div\",{className:\"SignUpDiv\",children:/*#__PURE__*/_jsx(\"form\",{className:\"SignUpForm\",onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(Grid,{container:true,direction:\"column\",justifyContent:\"space-between\",children:[/*#__PURE__*/_jsx(TextField,{required:true,type:\"email\",id:\"standard-required\",onChange:function onChange(e){return setEmail(e.target.value);},value:useEmail,label:\"Email Address\",variant:\"standard\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"success\",size:\"small\",type:\"submit\",children:\"Enter\"})]})})}):/*#__PURE__*/_jsxs(Dialog,{open:!showForm,children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Ready to take the Quiz?\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsxs(DialogContentText,{children:[\"The Quiz contains \",/*#__PURE__*/_jsx(\"b\",{children:\"5 Questions\"}),\"  with \",/*#__PURE__*/_jsx(\"b\",{children:\"4 options\"}),\"  with \",/*#__PURE__*/_jsx(\"b\",{children:\"1 correct answer\"}),/*#__PURE__*/_jsx(\"br\",{}),\"You will be given a \",/*#__PURE__*/_jsx(\"b\",{children:\"15 seconds\"}),\" to answer each question.\"]})}),/*#__PURE__*/_jsx(DialogActions,{children:/*#__PURE__*/_jsx(Button,{onClick:enterQuestion,children:\"Enter\"})})]})});}export default SignUp;","map":{"version":3,"sources":["D:/Will/Egitial_Assessment/client/src/pages/signup/signup.js"],"names":["React","useState","useContext","useMutation","gql","useNavigate","TextField","Button","Grid","Dialog","DialogTitle","DialogActions","DialogContent","DialogContentText","AuthContext","SIGNUP_USER","SignUp","user","navigate","setAuth","showForm","setshowForm","useEmail","setEmail","userData","setUserData","update","proxy","result","data","signUp","id","variables","email","addUser","loading","handleSubmit","e","preventDefault","enterQuestion","state","userid","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from \"react\";\r\nimport { useMutation } from \"@apollo/react-hooks\";\r\nimport gql from \"graphql-tag\";\r\nimport { useNavigate } from 'react-router-dom' ;\r\nimport {\r\n  TextField,\r\n  Button,\r\n  Grid,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogContentText,\r\n} from \"@mui/material\";\r\n\r\nimport AuthContext from \"../auth/AuthProvider\";\r\nimport \"./signup.css\";\r\n\r\nconst SIGNUP_USER = gql`\r\n  mutation signup($email: String!) {\r\n    signUp(email: $email) {\r\n      id\r\n      email\r\n    }\r\n  }\r\n`;\r\n\r\nfunction SignUp({user}) {\r\n  const navigate = useNavigate();\r\n  const { setAuth } = useContext(AuthContext);\r\n  const [showForm, setshowForm] = useState(true);\r\n  const [useEmail, setEmail] = useState(\"\");\r\n  const [ userData, setUserData ] = useState({});\r\n\r\n  const [addUser, { loading }] = useMutation(SIGNUP_USER, {\r\n    update(proxy, result) {\r\n      setUserData(result.data.signUp.id);\r\n    },\r\n    variables: {\r\n      email: useEmail,\r\n    },\r\n  });\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    addUser();\r\n    setshowForm(false)\r\n  };\r\n\r\n  const enterQuestion = async (e) => {\r\n    navigate('/question', {state: {userid: userData } } )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {showForm ? (\r\n        <div className=\"SignUpDiv\">\r\n          <form className=\"SignUpForm\" onSubmit={handleSubmit}>\r\n            <Grid container direction=\"column\" justifyContent=\"space-between\">\r\n              <TextField\r\n                required\r\n                type=\"email\"\r\n                id=\"standard-required\"\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                value={useEmail}\r\n                label=\"Email Address\"\r\n                variant=\"standard\"\r\n              />\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"success\"\r\n                size=\"small\"\r\n                type=\"submit\"\r\n              >\r\n                Enter\r\n              </Button>\r\n            </Grid>\r\n          </form>\r\n        </div>\r\n      ) : (\r\n        <Dialog open={!showForm}>\r\n          <DialogTitle>Ready to take the Quiz?</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText>\r\n              The Quiz contains <b>5 Questions</b>  with <b>4 options</b>  with <b>1 correct answer</b>\r\n              <br />\r\n              You will be given a <b>15 seconds</b> to answer each question.\r\n            </DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={enterQuestion}>Enter</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SignUp;\r\n"]},"metadata":{},"sourceType":"module"}